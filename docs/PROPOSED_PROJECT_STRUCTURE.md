# ì œì•ˆí•˜ëŠ” í”„ë¡œì íŠ¸ êµ¬ì¡° ì¬í¸ì•ˆ

í˜„ì¬ í‰ë©´ì ì´ê³  íŒŒì¼ì´ ì‚°ì¬ëœ êµ¬ì¡°ë¥¼ **ì‚¬ì´íŠ¸ë³„ ëª¨ë“ˆí™”** êµ¬ì¡°ë¡œ ê°œí¸

## ğŸ”„ í˜„ì¬ ë¬¸ì œì 

### í˜„ì¬ êµ¬ì¡°
```
autoinput/
â”œâ”€â”€ bizmeka_automation/          # í•œ ì‚¬ì´íŠ¸ë§Œì˜ í´ë”
â”‚   â”œâ”€â”€ manual_login.py
â”‚   â”œâ”€â”€ auto_access.py  
â”‚   â”œâ”€â”€ mail_scraper_final.py
â”‚   â”œâ”€â”€ mail_scraper_working.py
â”‚   â”œâ”€â”€ mail_scraper_devtools.py
â”‚   â”œâ”€â”€ mail_scraper_simple.py     # ë„ˆë¬´ ë§ì€ ë²„ì „ë“¤
â”‚   â”œâ”€â”€ mail_scraper_correct.py
â”‚   â”œâ”€â”€ mail_scraper_dynamic.py
â”‚   â”œâ”€â”€ mail_scraper_manual.py
â”‚   â”œâ”€â”€ mail_scraper_interactive.py
â”‚   â”œâ”€â”€ mail_scraper_final_correct.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ flutter_login_automation/    # ë˜ ë‹¤ë¥¸ í‰ë©´ì  í´ë”
â”œâ”€â”€ hwp_conversion/             # ë˜ ë‹¤ë¥¸ í‰ë©´ì  í´ë”
â””â”€â”€ docs/                      # ë¬¸ì„œë„ ì„ì—¬ìˆìŒ
```

### ë¬¸ì œì 
- âŒ íŒŒì¼ëª…ì´ ë„ˆë¬´ ê¸¸ê³  ë²„ì „ë³„ë¡œ ì¤‘ë³µ
- âŒ ì‚¬ì´íŠ¸ë³„ ê´€ë ¨ íŒŒì¼ë“¤ì´ ë­‰ì³ìˆì§€ ì•ŠìŒ  
- âŒ ê³µí†µ ìœ í‹¸ë¦¬í‹°ì™€ ì‚¬ì´íŠ¸ë³„ ë¡œì§ì´ ì„ì„
- âŒ í…ŒìŠ¤íŠ¸, ì„¤ì •, ë¬¸ì„œê°€ ë”°ë¡œ ë†€ê³  ìˆìŒ
- âŒ í™•ì¥ì‹œ ë” ë³µì¡í•´ì§ˆ êµ¬ì¡°

---

## âœ… ì œì•ˆí•˜ëŠ” ìƒˆë¡œìš´ êµ¬ì¡°

### ì‚¬ì´íŠ¸ë³„ ëª¨ë“ˆí™” êµ¬ì¡°
```
autoinput/
â”œâ”€â”€ ğŸ“ sites/                    # ì‚¬ì´íŠ¸ë³„ ëª¨ë“ˆ 
â”‚   â”œâ”€â”€ ğŸ“ bizmeka/             # ë¹„ì¦ˆë©”ì¹´ ì „ìš© í´ë”
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/            # ì¸ì¦ ê´€ë ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ login.py        # ìˆ˜ë™/ìë™ ë¡œê·¸ì¸
â”‚   â”‚   â”‚   â””â”€â”€ cookies.py      # ì¿ í‚¤ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ ğŸ“ scrapers/        # ìŠ¤í¬ë˜í¼ë“¤
â”‚   â”‚   â”‚   â”œâ”€â”€ mail.py         # ë©”ì¼ ìŠ¤í¬ë˜í¼ (ìµœì¢… ë²„ì „ë§Œ)
â”‚   â”‚   â”‚   â””â”€â”€ base.py         # ê³µí†µ ìŠ¤í¬ë˜í¼ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ ğŸ“ config/          # ì„¤ì • íŒŒì¼
â”‚   â”‚   â”‚   â”œâ”€â”€ settings.json
â”‚   â”‚   â”‚   â””â”€â”€ selectors.json  # ì„ íƒì ëª¨ìŒ
â”‚   â”‚   â”œâ”€â”€ ğŸ“ tests/           # í…ŒìŠ¤íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ test_auth.py
â”‚   â”‚   â”‚   â””â”€â”€ test_scraper.py
â”‚   â”‚   â”œâ”€â”€ ğŸ“ data/            # ë°ì´í„° í´ë”
â”‚   â”‚   â”‚   â””â”€â”€ cookies.json
â”‚   â”‚   â””â”€â”€ ğŸ“ docs/            # ì‚¬ì´íŠ¸ë³„ ë¬¸ì„œ
â”‚   â”‚       â”œâ”€â”€ README.md
â”‚   â”‚       â””â”€â”€ api_reference.md
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ longtermcare/        # ì¥ê¸°ìš”ì–‘ë³´í—˜ ì‚¬ì´íŠ¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“ auth/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ scrapers/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ config/
â”‚   â”‚   â””â”€â”€ ğŸ“ docs/
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ hwp_sites/           # HWP ê´€ë ¨ ì‚¬ì´íŠ¸ë“¤
â”‚       â”œâ”€â”€ ğŸ“ auth/
â”‚       â”œâ”€â”€ ğŸ“ scrapers/
â”‚       â””â”€â”€ ğŸ“ converters/
â”‚
â”œâ”€â”€ ğŸ“ core/                     # ê³µí†µ í•µì‹¬ ë¡œì§
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py
â”‚   â”œâ”€â”€ ğŸ“ base/                # ê¸°ë³¸ í´ë˜ìŠ¤ë“¤
â”‚   â”‚   â”œâ”€â”€ scraper.py          # BaseScraper í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ authenticator.py    # BaseAuth í´ë˜ìŠ¤
â”‚   â”‚   â””â”€â”€ browser.py          # Browser ê´€ë¦¬
â”‚   â”œâ”€â”€ ğŸ“ utils/               # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ cookies.py          # ì¿ í‚¤ ê´€ë¦¬ ìœ í‹¸
â”‚   â”‚   â”œâ”€â”€ popups.py           # íŒì—… ì²˜ë¦¬ ìœ í‹¸
â”‚   â”‚   â”œâ”€â”€ navigation.py       # ë„¤ë¹„ê²Œì´ì…˜ ìœ í‹¸
â”‚   â”‚   â””â”€â”€ patterns.py         # íŒ¨í„´ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â””â”€â”€ ğŸ“ exceptions/          # ì»¤ìŠ¤í…€ ì˜ˆì™¸
â”‚       â””â”€â”€ scraping.py
â”‚
â”œâ”€â”€ ğŸ“ tools/                    # ê°œë°œ ë„êµ¬
â”‚   â”œâ”€â”€ ğŸ“„ site_generator.py    # ìƒˆ ì‚¬ì´íŠ¸ ëª¨ë“ˆ ìƒì„±ê¸°
â”‚   â”œâ”€â”€ ğŸ“„ pattern_analyzer.py  # íŒ¨í„´ ë¶„ì„ ë„êµ¬  
â”‚   â””â”€â”€ ğŸ“„ performance_monitor.py
â”‚
â”œâ”€â”€ ğŸ“ tests/                    # í†µí•© í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ ğŸ“ integration/
â”‚   â””â”€â”€ ğŸ“ e2e/
â”‚
â”œâ”€â”€ ğŸ“ docs/                     # í”„ë¡œì íŠ¸ ì „ì²´ ë¬¸ì„œ
â”‚   â”œâ”€â”€ ğŸ“ guides/              # ê°€ì´ë“œ ë¬¸ì„œ
â”‚   â”œâ”€â”€ ğŸ“ patterns/            # íŒ¨í„´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì„œ
â”‚   â””â”€â”€ ğŸ“ api/                 # API ë¬¸ì„œ
â”‚
â”œâ”€â”€ ğŸ“ scripts/                  # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ ğŸ“„ run_bizmeka_mail.py  # ë¹„ì¦ˆë©”ì¹´ ë©”ì¼ ì‹¤í–‰
â”‚   â”œâ”€â”€ ğŸ“„ run_hwp_convert.py   # HWP ë³€í™˜ ì‹¤í–‰
â”‚   â””â”€â”€ ğŸ“„ setup_site.py        # ìƒˆ ì‚¬ì´íŠ¸ ì„¤ì •
â”‚
â””â”€â”€ ğŸ“ data/                     # ê³µí†µ ë°ì´í„°
    â”œâ”€â”€ ğŸ“ logs/
    â”œâ”€â”€ ğŸ“ outputs/
    â””â”€â”€ ğŸ“ temp/
```

---

## ğŸ”§ êµ¬ì²´ì ì¸ íŒŒì¼ êµ¬ì„± ì˜ˆì‹œ

### sites/bizmeka/ êµ¬ì¡°
```python
# sites/bizmeka/auth/login.py
class BizmekaAuth(BaseAuth):
    def __init__(self):
        self.config = load_config('bizmeka')
    
    async def manual_login(self):
        """ìˆ˜ë™ ë¡œê·¸ì¸ + ì¿ í‚¤ ì €ì¥"""
        pass
    
    async def auto_login(self):
        """ì¿ í‚¤ ê¸°ë°˜ ìë™ ë¡œê·¸ì¸"""  
        pass

# sites/bizmeka/scrapers/mail.py  
class BizmekaMailScraper(BaseScraper):
    def __init__(self):
        super().__init__('bizmeka')
    
    async def scrape_mails(self, pages=3):
        """ë©”ì¼ ìŠ¤í¬ë˜í•‘ (ìµœì¢… ì™„ì„± ë²„ì „ë§Œ)"""
        pass
```

### core/base/ ê³µí†µ í´ë˜ìŠ¤
```python
# core/base/scraper.py
class BaseScraper:
    def __init__(self, site_name):
        self.site_name = site_name
        self.config = load_site_config(site_name)
        self.popup_handler = PopupHandler()
        self.navigator = Navigator()
    
    async def close_popups(self):
        """ê³µí†µ íŒì—… ì²˜ë¦¬ ë¡œì§"""
        return await self.popup_handler.close_all(self.page)
```

### ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ê°„ì†Œí™”
```python
# scripts/run_bizmeka_mail.py
from sites.bizmeka.auth.login import BizmekaAuth
from sites.bizmeka.scrapers.mail import BizmekaMailScraper

async def main():
    # ê°„ë‹¨í•œ ì‹¤í–‰
    auth = BizmekaAuth()
    await auth.ensure_login()  # ìë™ìœ¼ë¡œ ì¿ í‚¤ í™•ì¸/ë¡œê·¸ì¸
    
    scraper = BizmekaMailScraper()
    results = await scraper.scrape_mails(pages=3)
    
    print(f"ìˆ˜ì§‘ ì™„ë£Œ: {len(results)}ê°œ")

if __name__ == "__main__":
    asyncio.run(main())
```

---

## ğŸ“ˆ ìƒˆ êµ¬ì¡°ì˜ ì¥ì 

### 1. **ëª¨ë“ˆì„±**
- ì‚¬ì´íŠ¸ë³„ë¡œ ì™„ì „íˆ ë¶„ë¦¬ëœ ëª¨ë“ˆ
- í•œ ì‚¬ì´íŠ¸ ì‘ì—…ì´ ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì— ì˜í–¥ ì—†ìŒ
- ë…ë¦½ì ì¸ í…ŒìŠ¤íŠ¸ì™€ ë°°í¬ ê°€ëŠ¥

### 2. **ì¬ì‚¬ìš©ì„±** 
- core/ì— ê³µí†µ ë¡œì§ ëª¨ì•„ì„œ ì¬ì‚¬ìš©
- ìƒˆë¡œìš´ ì‚¬ì´íŠ¸ ì¶”ê°€ì‹œ core/ í™œìš©
- íŒ¨í„´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë¹ ë¥¸ ê°œë°œ

### 3. **ìœ ì§€ë³´ìˆ˜ì„±**
- íŒŒì¼ ìœ„ì¹˜ê°€ ì§ê´€ì ì´ê³  ì˜ˆì¸¡ ê°€ëŠ¥
- ë²„ì „ ê´€ë¦¬ê°€ ëª…í™• (ìµœì¢… ë²„ì „ë§Œ ìœ ì§€)
- ì‚¬ì´íŠ¸ë³„ ë¬¸ì„œí™” ì²´ê³„ì  ê´€ë¦¬

### 4. **í™•ì¥ì„±**
- ìƒˆ ì‚¬ì´íŠ¸ ì¶”ê°€ì‹œ tools/site_generator.py ì‹¤í–‰
- í‘œì¤€í™”ëœ êµ¬ì¡°ë¡œ ì¼ê´€ì„± ìœ ì§€
- íŒ€ í˜‘ì—…ì‹œ í˜¼ë€ ìµœì†Œí™”

### 5. **ì„±ëŠ¥**
- ë¶ˆí•„ìš”í•œ íŒŒì¼ ë¡œë”© ë°©ì§€
- ì‚¬ì´íŠ¸ë³„ ìµœì í™”ëœ ì„¤ì •
- ëª…í™•í•œ ì˜ì¡´ì„± ê´€ë¦¬

---

## ğŸš€ ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš

### Phase 1: êµ¬ì¡° ìƒì„±
1. ìƒˆë¡œìš´ í´ë” êµ¬ì¡° ìƒì„±
2. core/ ëª¨ë“ˆ ê°œë°œ
3. sites/bizmeka/ ëª¨ë“ˆ ê°œë°œ

### Phase 2: íŒŒì¼ ì´ê´€
1. bizmeka_automation/ â†’ sites/bizmeka/ë¡œ ì´ê´€
2. ì¤‘ë³µ íŒŒì¼ ì •ë¦¬ (ìµœì¢… ë²„ì „ë§Œ ìœ ì§€)
3. ê³µí†µ ë¡œì§ core/ë¡œ ì¶”ì¶œ

### Phase 3: ê²€ì¦ ë° ìµœì í™”  
1. ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
2. ë¬¸ì„œ ì—…ë°ì´íŠ¸
3. ì„±ëŠ¥ ìµœì í™”

### Phase 4: í™•ì¥
1. ë‹¤ë¥¸ ì‚¬ì´íŠ¸ ëª¨ë“ˆí™”
2. ìë™í™” ë„êµ¬ ê°œë°œ
3. íŒ¨í„´ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™•ì¥

ì´ êµ¬ì¡°ë¡œ ê°€ë©´ **"í•œ ëˆˆì— ë³´ì´ëŠ” ê¹”ë”í•¨"**ê³¼ **"í™•ì¥ ìš©ì´ì„±"**ì„ ëª¨ë‘ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤! ì–´ë–»ê²Œ ë³´ì‹œë‚˜ìš”? ğŸ¯