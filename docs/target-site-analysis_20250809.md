# 🏥 장기요양보험 청구 사이트 분석 문서

## 📋 개요
요양원 직원들이 장기요양급여를 청구하는 정부 사이트의 구조와 기술적 특성을 분석합니다.

---

## 🎯 핵심 타겟 사이트

### 1. 장기요양보험 업무포털 (노인장기요양보험)
- **URL**: https://www.longtermcare.or.kr
- **운영기관**: 국민건강보험공단
- **목적**: 장기요양급여 청구, 심사, 지급
- **사용자**: 요양원, 주간보호센터, 방문요양센터 직원

### 2. 장기요양기관 업무포털
- **URL**: https://provider.longtermcare.or.kr
- **목적**: 장기요양기관 전용 청구 시스템
- **핵심 기능**: 
  - 급여비용 청구
  - 청구내역 조회
  - 심사결과 확인
  - 각종 신고/신청

### 3. 전자문서시스템 (EDI)
- **URL**: 장기요양 EDI 시스템
- **목적**: 대량 청구 처리
- **특징**: 배치 처리, 파일 업로드 방식

---

## 🗺️ 사이트맵 구조

### 장기요양기관 업무포털 주요 메뉴

#### 1. 급여비용 청구
```
/청구관리
  ├── 급여비용 청구
  │   ├── 방문요양 청구
  │   ├── 방문목욕 청구
  │   ├── 방문간호 청구
  │   ├── 주야간보호 청구
  │   ├── 단기보호 청구
  │   └── 시설급여 청구
  ├── 청구서 작성
  │   ├── 신규 작성
  │   ├── 임시저장 목록
  │   └── 반려 수정
  ├── 청구서 전송
  │   ├── 개별 전송
  │   ├── 일괄 전송
  │   └── EDI 전송
  └── 청구 현황 조회
      ├── 월별 청구현황
      ├── 수급자별 현황
      └── 서비스별 현황
```

#### 2. 심사 및 지급
```
/심사관리
  ├── 심사 결과 조회
  │   ├── 심사 결정 내역
  │   ├── 삭감/조정 내역
  │   └── 환수 내역
  ├── 지급 내역 조회
  │   ├── 지급예정 내역
  │   ├── 지급완료 내역
  │   └── 계좌 정보 관리
  ├── 이의신청
  │   ├── 이의신청서 작성
  │   └── 처리결과 조회
  └── 명세서 발급
      ├── 급여비용 명세서
      └── 본인부담금 명세서
```

#### 3. 수급자 관리
```
/수급자관리
  ├── 수급자 정보 조회
  │   ├── 인정등급 조회
  │   ├── 급여제공계획 조회
  │   └── 이용한도액 조회
  ├── 급여제공기록
  │   ├── 급여제공기록 작성
  │   ├── 제공기록 수정
  │   └── 제공기록 조회
  ├── 계약관리
  │   ├── 급여계약 등록
  │   ├── 계약변경 신고
  │   └── 계약해지 처리
  └── 본인부담금 관리
      ├── 감경대상 조회
      └── 수납내역 관리
```

#### 4. 자료실 및 서식
```
/자료실
  ├── 공지사항/고시
  │   ├── 수가 고시
  │   ├── 급여기준 변경
  │   └── 청구 지침
  ├── 서식 다운로드
  │   ├── 청구 서식
  │   ├── 급여제공기록지
  │   ├── 계약서 양식
  │   └── 각종 신청서
  ├── 프로그램 다운로드
  │   ├── 청구 S/W
  │   ├── 인증서 프로그램
  │   └── 보안 프로그램
  └── 교육자료
      ├── 청구 매뉴얼
      ├── 동영상 교육
      └── FAQ
```

#### 4. 정보 조회
```
/조회
  ├── 수가 정보
  ├── 약가 정보
  ├── 치료재료 정보
  └── 의료기관 정보
```

---

## 🔍 핵심 관심 영역

### 우선순위 1: 급여비용 청구 자동화
- **급여제공기록 입력**: 일별/월별 서비스 제공 내역
- **청구서 작성**: 수급자별 급여비용 계산
- **청구서 전송**: 전자청구 자동화
- **오류 검증**: 청구 전 오류 체크

### 우선순위 2: 심사결과 및 지급관리
- **심사결과 조회**: 승인/삭감 내역 확인
- **지급내역 확인**: 입금예정액 조회
- **이의신청**: 삭감 건에 대한 이의제기
- **명세서 다운로드**: PDF/Excel 형식

### 우선순위 3: 수급자 정보 관리
- **등급 조회**: 수급자 인정등급 확인
- **한도액 확인**: 월 이용한도액 잔여분
- **계약 관리**: 급여제공계약 등록/변경
- **감경 확인**: 본인부담금 감경 대상 확인

### 우선순위 4: 보고 및 신고
- **월간 보고**: 급여제공 실적 보고
- **변경 신고**: 시설/인력 변경사항
- **서식 다운로드**: 각종 신청서 및 양식
- **통계 자료**: 운영 현황 통계

---

## 🛠️ 기술 스택 분석

### 인증 시스템
```yaml
공인인증서:
  - 타입: NPKI (공동인증서)
  - 플러그인: 보안 프로그램 필수
  - 세션: 30분 타임아웃

간편인증:
  - 타입: 카카오, 네이버, 패스
  - 토큰: JWT 기반
  - 갱신: 자동 갱신
```

### 프론트엔드 기술
```yaml
Framework:
  - jQuery 기반 레거시
  - 일부 React 도입 중
  
보안 모듈:
  - 키보드 보안
  - 화면 캡처 방지
  - 우클릭 방지

UI 특징:
  - 팝업 多 (window.open)
  - iframe 사용
  - ActiveX 잔재 (IE 모드)
```

### 데이터 처리
```yaml
폼 처리:
  - Multi-step forms
  - 파일 첨부 (10MB 제한)
  - 실시간 유효성 검증

테이블:
  - 서버사이드 페이징
  - 정렬/필터링
  - 엑셀 내보내기

다운로드:
  - 대용량 파일 스트리밍
  - 압축 파일 처리
  - 워터마크 PDF
```

---

## 📊 페이지별 기술 요소 매핑

### 로그인 페이지
| 요소 | 기술 | 난이도 | 필수 스킬 |
|------|------|--------|----------|
| 공동인증서 | NPKI Plugin | ⭐⭐⭐⭐⭐ | 인증서 처리 |
| 금융인증서 | 금융결제원 | ⭐⭐⭐⭐ | 클라우드 인증 |
| 간편인증 | PASS/카카오 | ⭐⭐⭐ | 바이오 인증 |
| 아이디/비밀번호 | Form Submit | ⭐⭐ | 기본 로그인 |
| 보안문자 | CAPTCHA | ⭐⭐⭐ | 이미지 인식 |

### 급여비용 청구서 작성
| 요소 | 기술 | 난이도 | 필수 스킬 |
|------|------|--------|----------|
| 수급자 검색 | AJAX AutoComplete | ⭐⭐⭐ | 동적 검색 |
| 급여제공기록 | 테이블 입력 | ⭐⭐⭐⭐ | 복잡한 폼 |
| 비용 자동계산 | JavaScript | ⭐⭐⭐ | 실시간 계산 |
| 오류 검증 | Validation Rules | ⭐⭐⭐⭐ | 규칙 엔진 |
| 임시저장 | Session Storage | ⭐⭐ | 상태 관리 |
| 파일첨부 | 증빙서류 | ⭐⭐ | 파일 업로드 |

### 심사결과 조회
| 요소 | 기술 | 난이도 | 필수 스킬 |
|------|------|--------|----------|
| 기간별 조회 | Date Range | ⭐⭐ | 날짜 처리 |
| 수급자별 필터 | Dynamic Filter | ⭐⭐⭐ | 복합 필터 |
| 페이지네이션 | Server-side | ⭐⭐ | 페이지 순회 |
| 상세내역 팝업 | Modal/Popup | ⭐⭐⭐ | 팝업 처리 |
| 엑셀 다운로드 | Binary Stream | ⭐⭐ | 파일 저장 |
| 일괄 다운로드 | Batch Download | ⭐⭐⭐ | 다중 파일 |

### 자료실
| 요소 | 기술 | 난이도 | 필수 스킬 |
|------|------|--------|----------|
| PDF 다운로드 | Direct/Stream | ⭐ | 파일 처리 |
| HWP 다운로드 | Binary | ⭐⭐ | 한글 파일 |
| 대용량 파일 | Chunked | ⭐⭐⭐ | 스트리밍 |
| 압축 파일 | ZIP | ⭐⭐ | 압축 해제 |

---

## 🚧 기술적 도전 과제

### 1. 보안 모듈
```yaml
문제점:
  - ActiveX 의존성
  - 키보드 보안
  - 화면 보호
  
해결 방안:
  - IE 모드 또는 Edge
  - 가상 키보드 이벤트
  - Headless 모드 제한
```

### 2. 세션 관리
```yaml
문제점:
  - 30분 자동 로그아웃
  - 중복 로그인 차단
  - IP 기반 제한
  
해결 방안:
  - 세션 갱신 자동화
  - 단일 세션 유지
  - 프록시 고정
```

### 3. 대용량 데이터
```yaml
문제점:
  - 타임아웃 (5분)
  - 메모리 제한
  - 네트워크 불안정
  
해결 방안:
  - 청크 단위 처리
  - 스트리밍 다운로드
  - 재시도 로직
```

---

## 📈 기술 습득 우선순위

### Phase 1: 필수 기초 (Week 1-2)
1. **공인인증서 로그인** ⭐⭐⭐⭐⭐
2. **세션 유지** ⭐⭐⭐⭐
3. **기본 폼 제출** ⭐⭐⭐
4. **테이블 데이터 추출** ⭐⭐

### Phase 2: 핵심 기능 (Week 3-4)
1. **다단계 폼 처리** ⭐⭐⭐
2. **파일 업로드** ⭐⭐⭐
3. **페이지네이션** ⭐⭐
4. **엑셀 다운로드** ⭐⭐

### Phase 3: 고급 기능 (Week 5-6)
1. **대용량 파일 처리** ⭐⭐⭐
2. **복잡한 필터링** ⭐⭐⭐
3. **배치 처리** ⭐⭐⭐⭐
4. **오류 복구** ⭐⭐⭐

---

## 🔐 보안 및 규정 준수

### 접근 제한
```yaml
Rate Limiting:
  - 분당 요청: 30회
  - 일일 한도: 1000회
  - IP 차단: 과도한 요청 시

robots.txt:
  - Disallow: /personal/
  - Crawl-delay: 10
  - User-agent: 제한
```

### 법적 고려사항
- 개인정보보호법 준수
- 의료정보 보안 규정
- 자동화 도구 사용 정책

---

## 📝 구현 체크리스트

### 사전 준비
- [ ] 테스트 계정 준비
- [ ] 공인인증서 설정
- [ ] VPN/프록시 구성
- [ ] 개발 환경 설정

### 핵심 구현
- [ ] 로그인 자동화
- [ ] 세션 관리 시스템
- [ ] 청구서 작성 자동화
- [ ] 조회 및 다운로드

### 운영 준비
- [ ] 에러 핸들링
- [ ] 로깅 시스템
- [ ] 모니터링 설정
- [ ] 백업 전략

---

## 🎯 다음 단계

### 즉시 실행
1. 공개 페이지 구조 분석
2. robots.txt 확인
3. 필요 문서 목록 작성

### 단기 계획
1. 인증 시스템 연구
2. 폼 구조 분석
3. API 엔드포인트 탐색

### 장기 계획
1. 자동화 프레임워크 구축
2. 안정성 테스트
3. 성능 최적화

---

## 📌 주의사항

### Do's ✅
- robots.txt 준수
- 적절한 딜레이 설정
- 에러 시 백오프
- 로그 기록 유지

### Don'ts ❌
- 과도한 요청 금지
- 개인정보 노출 금지
- 보안 우회 시도 금지
- 무단 데이터 수집 금지

---

*Last updated: 2025-08-09*
*이 문서는 공개 정보와 일반적인 웹 기술 분석을 기반으로 작성되었습니다.*